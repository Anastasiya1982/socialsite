{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","className","s","dialog","active","to","id","name","Message","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","requiredField","placeholder","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","key","messagesElements","messages","m","newMessageBody","isAuth","dialogsItems","values","sendMessage","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,oBCA/KD,EAAOC,QAAU,CAAC,QAAU,4BAA4B,OAAS,2BAA2B,aAAe,iCAAiC,OAAS,2BAA2B,SAAW,+B,oBCA3LD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,iHCWhKC,EARE,SAACC,GACd,OAAS,yBAAKC,UAAWC,IAAEC,OAAS,IAAKD,IAAEE,QACvC,kBAAC,IAAD,CAASC,GAAI,YAAYL,EAAMM,IAAKN,EAAMO,Q,kBCQnCC,EAXC,SAACR,GAKb,OACI,6BACI,yBAAKC,UAAWC,IAAEC,QAASH,EAAMS,W,0CCDvCC,EAAYC,YAAiB,IAoD7BC,EAAoBC,YAAU,CAACC,KAAK,wBAAhBD,EApBH,SAACb,GACpB,OACI,0BAAMe,SAAUf,EAAMgB,cAClB,6BACI,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAcX,GACzBH,KAAM,iBACNe,YAAa,wBAIxB,6BACI,+CAQLC,EAnDC,SAACvB,GACb,IAAIwB,EAAQxB,EAAMyB,YACbC,EAAkBF,EAAMG,QAAQC,KAAK,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYC,IAAKD,EAAEvB,GAAIC,KAAMsB,EAAEtB,KAAMD,GAAMuB,EAAEvB,QACxFyB,EAAmBP,EAAMQ,SAASJ,KAAK,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAASH,IAAKG,EAAE3B,GAAKG,QAASwB,EAAExB,aAC1De,EAAMU,eAQ9B,OAAIlC,EAAMmC,OAMJ,yBAAKlC,UAAWC,IAAEyB,SACd,yBAAK1B,UAAWC,IAAEkC,cACbV,GAEL,yBAAKzB,UAAWC,IAAE8B,UACd,6BAAMD,GACJ,kBAACnB,EAAD,CAAsBG,SAjBnB,SAACsB,GACfrC,EAAMsC,YAAYD,EAAOH,qBAKnB,kBAAC,IAAD,CAAU7B,GAAI,Y,wCCnBvBkC,EAA2B,SAACf,GAC5B,MAAO,CACHW,OAAOX,EAAMgB,KAAKL,S,OCmBXM,sBACXC,aAjBoB,SAAClB,GACrB,MAAO,CACHC,YAAaD,EAAMC,gBAIF,SAACkB,GACtB,MAAO,CAEHL,YAAY,SAACJ,GACTS,EAASC,YAAmBV,UDRT,SAACW,GAAc,IACpCC,EADmC,uKAGjC,OAAKC,KAAK/C,MAAMmC,OACT,kBAACU,EAAcE,KAAK/C,OADG,kBAAC,IAAD,CAAUK,GAAI,eAHX,GACT2C,IAAMH,WAStC,OADmCH,YAAQH,EAARG,CAAoCI,KCK5DL,CAGblB","file":"static/js/3.9e53c572.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3RAgR\",\"dialog\":\"Dialogs_dialog__Id7UM\",\"dialogsItems\":\"Dialogs_dialogsItems__2HNmF\",\"active\":\"Dialogs_active__2Me-v\",\"messages\":\"Dialogs_messages__28dnH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"DialogItem_dialogs__Uu25_\",\"dialog\":\"DialogItem_dialog__1qTHc\",\"dialogsItems\":\"DialogItem_dialogsItems__1e2os\",\"active\":\"DialogItem_active__d0ya1\",\"messages\":\"DialogItem_messages__yqQb4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Message_dialogs__x8njd\",\"dialog\":\"Message_dialog__1FOLv\",\"dialogsItems\":\"Message_dialogsItems__3YoBs\",\"active\":\"Message_active__31i0H\",\"messages\":\"Message_messages__2xBht\"};","import React from 'react';\r\nimport s from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem=(props)=>{\r\n    return   <div className={s.dialog + ' ' +s.active}>\r\n        <NavLink to={\"/dialogs/\"+props.id}>{props.name }</NavLink>\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.dialog}>{props.message}</div>\r\n        </div>\r\n    )\r\n}\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm, values} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\n\r\nconst maxLength50=maxLengthCreator(50);\r\n\r\nconst Dialogs = (props)=>{\r\n    let state = props.dialogsPage;\r\n     let dialogsElements = state.dialogs.map( d=> (<DialogItem key={d.id} name={d.name} id = {d.id}/>));\r\n    let messagesElements = state.messages.map( m =>(<Message key={m.id}  message={m.message} /> ));\r\n     let newMessageBody = state.newMessageBody;\r\n\r\n\r\n   let addNewMessage=(values)=>{\r\n       props.sendMessage(values.newMessageBody);\r\n\r\n   }\r\n\r\n  if(!props.isAuth){\r\n      return <Redirect to={\"/login\"}  />\r\n  };\r\n\r\n    return (\r\n\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n                  <AddMessageFormRedux  onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst  AddMessageForm =(props)=>{\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <div>\r\n                    <Field component={Textarea}\r\n                           validate={[requiredField,maxLength50]}\r\n                           name =\"newMessageBody\"\r\n                           placeholder={\"Enter your message\"}>\r\n\r\n                    </Field>\r\n                </div>\r\n                <div>\r\n                    <button> Send</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux=reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);\r\nexport default Dialogs;","\r\nimport React, {Component} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect=(state)=>{\r\n    return {\r\n        isAuth:state.auth.isAuth\r\n    }\r\n};\r\n\r\n\r\nexport  const withAuthRedirect=(Component)=> {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth)return <Redirect to={\"/login\"}/>\r\n            return <Component {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent=connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n","import React from 'react';\r\nimport {sendMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return {\r\n\r\n        sendMessage:(newMessageBody)=>{\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n// let AuthRedirectComponent=withAuthRedirect(Dialogs);\r\n//\r\n//\r\n//\r\n// const DialogsContainer = connect(mapStateToProps,mapDispatchToProps)(AuthRedirectComponent);\r\n// export default DialogsContainer;"],"sourceRoot":""}